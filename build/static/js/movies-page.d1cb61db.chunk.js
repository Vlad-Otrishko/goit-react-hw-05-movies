(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[6],{54:function(e,t,r){"use strict";t.a="data:image/jpeg;base64,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"},55:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=r(58),n=r(59),c=function(){function e(){Object(a.a)(this,e),this.searchIndex=0,this.query="",this.page=1,this.totalFound=0,this.key="0ed255c3e41b7b2939a1a8ab382f6c30"}return Object(n.a)(e,[{key:"searchMovies",value:function(){var e=this,t=["https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(this.key,"&language=en-US&page=").concat(this.page,"&include_adult=false"),"https://api.themoviedb.org/3/search/movie?api_key=".concat(this.key,"&language=en-US&query=").concat(this.query,"&page=").concat(this.page,"&include_adult=false"),"https://api.themoviedb.org/3/movie/".concat(this.query,"?api_key=").concat(this.key,"&language=en-US&page=").concat(this.page,"&include_adult=false")][this.searchIndex];return fetch(t).then((function(t){return t.ok?t.json():Promise.reject(new Error("No data for the query'".concat(e.query,"'")))}))}},{key:"reset",value:function(){this.page=1,this.totalFound=0}},{key:"request",set:function(e){this.query=e}},{key:"searchType",set:function(e){this.searchIndex=e}}]),e}()},56:function(e,t,r){e.exports={rejected:"Rejected_rejected__2TTfP",blur:"Rejected_blur__28prU"}},57:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r(0);var a=r(56),n=r.n(a),c=r(1),i=function(e){var t=e.message;return Object(c.jsx)("h1",{className:n.a.rejected,children:t})}},61:function(e,t,r){e.exports={MoviesGallery:"MoviesGallery_MoviesGallery__27G4m"}},62:function(e,t,r){e.exports={GalleryItem:"GalleryItem_GalleryItem__2zVZ4",movieLink:"GalleryItem_movieLink__2yfBR","GalleryItem-image":"GalleryItem_GalleryItem-image__3CTja",gallery__title:"GalleryItem_gallery__title__BYO0a"}},63:function(e,t,r){e.exports={wrapper:"Button_wrapper__3TOly",Button:"Button_Button__FbAXw",returnButton:"Button_returnButton__3zLzd",returnButtonLink:"Button_returnButtonLink__3ea5c"}},64:function(e,t,r){e.exports={idle:"IdleMessage_idle__13mSy"}},65:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var a=r(53),n=r(3),c=r(0),i=r(60),s=r(61),o=r.n(s),u=r(9),l=r(62),A=r.n(l),h=r(54),j=r(1),d=function(e){var t=e.id,r=e.route,a=e.description,c=e.bigPicture,i=Object(n.g)();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("li",{className:A.a.GalleryItem,children:Object(j.jsxs)(u.b,{to:{pathname:"movies/".concat(t),state:{from:{location:i}}},className:A.a.movieLink,children:[Object(j.jsx)("img",{src:r,alt:a,"data-source":c,className:A.a["GalleryItem-image"],onError:function(e){return e.target.src=h.a}}),Object(j.jsx)("h2",{className:A.a.gallery__title,children:a})]})})})},b=r(63),p=r.n(b),f=function(e){var t,r=e.handleClick;return t="/"===Object(n.g)().pathname?"#home":"#searchField",Object(j.jsxs)("div",{className:p.a.wrapper,children:[Object(j.jsx)("button",{type:"button",className:p.a.Button,onClick:r,children:"Load more"}),Object(j.jsx)("div",{className:p.a.returnButton,children:Object(j.jsx)("a",{href:t,className:p.a.returnButtonLink,children:"Back"})})]})},m=r(57),y=r(14),g=r(64),F=r.n(g),v=function(){return Object(j.jsx)("div",{className:F.a.idle,children:"Waiting for your valuable query to start search.."})},U=r(55),k=r(2),B=r.n(k),O=new U.a,x=function(e){var t=e.query,r=Object(n.g)().pathname,s=Object(c.useState)([]),u=Object(a.a)(s,2),l=u[0],A=u[1],h=Object(c.useState)(null),b=Object(a.a)(h,2),p=b[0],g=b[1],F=Object(c.useState)("idle"),U=Object(a.a)(F,2),k=U[0],B=U[1];function x(){O.searchMovies().then((function(e){if(e.results.length>0)return q(e.results),O.page+=1,e;throw new Error("Sorry, but no result for ".concat(O.query))})).catch((function(e){g(e),B("rejected")}))}var q=function(e){return B("resolved"),A(e)};Object(c.useEffect)((function(){return O.reset()}),[]),Object(c.useEffect)((function(){if(t||"/movies"!==r){if(!t)return B("pending"),O.searchType=0,void x();B("pending"),O.reset(),O.searchType=1,O.request=t,x()}else A([])}),[t]);return"idle"===k?Object(j.jsx)(v,{}):"pending"===k?Object(j.jsx)(y.a,{}):"rejected"===k?Object(j.jsx)(m.a,{message:p.message}):"resolved"===k?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:o.a.MoviesGallery,children:l.map((function(e){return Object(j.jsx)(d,{id:e.id,route:"https://image.tmdb.org/t/p/w300/".concat(e.poster_path),bigPicture:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),description:e.original_title},e.id)}))}),Object(j.jsx)(f,{handleClick:function(){if(console.log("query=",t),!t&&"/movies"===r)return i.b.error("Please, indicate the Movie's name or keyword"),void B("idle");B("pending"),x(),B("idle")}})]}):void 0};f.propTypes={query:B.a.string}},67:function(e,t,r){e.exports={searchbar:"SearchBar_searchbar__Z_zfB",SearchForm:"SearchBar_SearchForm__3rVOe","SearchForm-button":"SearchBar_SearchForm-button__1_-8s","SearchForm-button-label":"SearchBar_SearchForm-button-label__u3Mrx","SearchForm-input":"SearchBar_SearchForm-input__3htwk"}},68:function(e,t,r){},72:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return A}));var a=r(53),n=r(0),c=r(60),i=r(67),s=r.n(i),o=r(1),u=function(e){var t=e.onSubmit,r=Object(n.useState)(""),i=Object(a.a)(r,2),u=i[0],l=i[1];return Object(o.jsx)("header",{className:s.a.searchbar,children:Object(o.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===u.trim())return c.b.error("Cannot search for empty request. Please, dial in something");t(u),l("")},className:s.a.SearchForm,children:[Object(o.jsx)("button",{type:"submit",className:s.a["SearchForm-button"],children:Object(o.jsx)("span",{className:s.a["SearchForm-button-label"],children:"Search"})}),Object(o.jsx)("input",{id:"searchField",className:s.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){l(e.currentTarget.value)}})]})})},l=r(65),A=(r(68),function(){var e=Object(n.useState)(""),t=Object(a.a)(e,2),r=t[0],i=t[1];Object(n.useEffect)((function(){localStorage.getItem("lastQuery")&&i(localStorage.getItem("lastQuery"))}),[]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(u,{onSubmit:function(e){i(e),localStorage.setItem("lastQuery",e)}}),Object(o.jsx)(c.a,{autoClose:3e3,position:"top-right"}),Object(o.jsx)(l.a,{query:r})]})})}}]);
//# sourceMappingURL=movies-page.d1cb61db.chunk.js.map